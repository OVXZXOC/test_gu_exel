<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Kalkulator Premii - Gang Unit</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <h1>Kalkulator Premii - Gang Unit</h1>

  <form id="premieForm">
    <label for="imie">Imię:</label>
    <input type="text" id="imie" name="imie" required>
    
    <label for="nazwisko">Nazwisko:</label>
    <input type="text" id="nazwisko" name="nazwisko" required>
    
    <label for="uid">UID:</label>
    <input type="text" id="uid" name="uid" required>
    
    <label for="premia">Premia:</label>
    <input type="number" id="premia" name="premia" required>
    
    <button type="button" onclick="wyslijDane()">Wyślij</button>
  </form>

</div>

<script>
  // Funkcja obliczająca premię (jeśli potrzebujesz logiki obliczeniowej)
  function calculatePremia() {
    const premiaInput = document.getElementById("premia");
    const premia = parseFloat(premiaInput.value);
    return isNaN(premia) ? 0 : premia; // Zwraca 0, jeśli wartość jest niepoprawna
  }

  // Funkcja wysyłająca dane do Google Apps Script
  function wyslijDane() {
    const dane = {
      imie: document.getElementById("imie").value,
      nazwisko: document.getElementById("nazwisko").value,
      uid: document.getElementById("uid").value,
      premia: calculatePremia() // Teraz mamy funkcję calculatePremia
    };

    console.log("Wysyłane dane:", dane); // Sprawdzenie danych w konsoli

    fetch("https://script.google.com/macros/s/AKfycbxx7zjJRRIOVR-VMcOZ7kizlnvdFjwYPqDJBcZ1wN0yPC9VBhmm5Vvzy__beTw8hhT1Ig/exec" {
      method: "POST",
      body: JSON.stringify(dane),
      headers: {
        "Content-Type": "application/json"
      }
    })
    .then(response => response.text())
    .then(data => {
      alert("Dane zostały wysłane: " + data);
    })
    .catch(error => {
      console.error("Błąd:", error);
      alert("Wystąpił błąd.");
    });
  }
</script>

</body>
</html>
